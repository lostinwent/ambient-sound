#include <Adafruit_NeoPixel.h>
#ifdef __AVR__
  #include <avr/power.h>
#endif

#define PIN 7

Adafruit_NeoPixel strip = Adafruit_NeoPixel(30, PIN, NEO_GRB + NEO_KHZ800);

int decible[] = {19,
10,
74,
37,
20,
17,
7,
18,
11,
22,
20,
7.9,
36,
14,
20,
21,
5,
22,
12,
20,
27,
9,
35,
19,
34,
44,
24,
25,
27,
17,
28,
45,
28,
28,
37,
28,
39,
48,
41,
35,
39,
22,
27,
30,
36,
53,
35,
28,
39,
27,
37,
36,
34,
40,
40,
35,
25,
42,
32,
18,
34,
30,
43,
32,
38,
35,
33,
15,
13,
19,
42,
7,
23,
18,
19,
29,
7,
30,
30,
21,
35,
8,
23,
25,
18,
33,
24,
38,
22,
34,
27,
36,
15,
6,
30,
29,
9,
38,
20,
18,
19,
11,
24,
29,
14,
26,
19,
22,
24,
12,
25,
40,
24,
44,
32,
21,
29,
25,
28,
37,
35,
25,
33,
37,
20,
26,
33,
49,
30,
24,
23,
19,
42,
45,
36,
20,
20,
27,
17,
16,
29,
36,
40,
14,
35,
24,
23,
32,
20,
29,
31,
41,
32,
22,
39,
17,
14,
14,
25,
30,
11,
35,
26,
16,
24,
15,
45,
38,
15,
26,
21,
29,
31,
33,
34,
33,
19,
15,
29,
9,
16,
7,
15,
41,
17,
6,
19,
17,
28,
17,
38,
24,
16,
15,
14,
17,
30,
36,
18,
20,
28,
54,
5,
26,
26,
44,
38,
21,
18,
32,
20,
10,
10,
39,
28,
23,
21,
24,
20,
28,
40,
27,
21,
30,
35,
35,
33,
22,
26,
26,
24,
22,
24,
18,
30,
35,
35,
24,
28,
24,
23,
14,
33,
9,
23,
19,
24,
20,
19,
7,
25,
23,
17,
11,
15,
22,
23,
13,
23,
15,
14,
20,
14,
25,
26,
31,
24,
29,
27,
26,
6,
20,
34,
31,
9,
19,
19,
23,
13,
26,
19,
32,
35,
9,
28,
24,
23,
13,
21,
27,
23,
5,
14,
28,
20,
15,
43,
26,
25,
28,
31,
34,
23,
17,
7,
23,
14,
16,
6,
12,
17,
27,
20,
30,
35,
23,
29,
14,
19,
36,
25,
9,
17,
17,
21,
29,
13,
17,
23,
13,
10,
15,
20,
32,
33,
31,
25,
27,
24,
21,
27,
36,
27,
13,
19,
18,
19,
19,
32,
31,
22,
11,
22,
13,
20,
18,
19,
13,
24,
8,
16,
12,
20,
16,
23,
30,
12,
25,
16,
19,
36,
27,
11,
38,
26,
40,
14,
11,
14,
27,
40,
10,
16,
26,
29,
15,
32,
26,
23,
11,
20,
33,
27,
32,
19,
23,
25,
31,
22,
44,
41,
29,
30,
36,
32,
29,
29,
21,
41,
43,
30,
32,
30,
31,
32,
21,
31,
27,
56,
17,
28,
24,
17,
26,
15,
28,
21,
24,
18,
45,
34,
16,
28,
30,
39,
13,
34,
25,
18,
20,
17,
20,
41,
16,
21,
39,
26,
43,
20,
13,
32,
24,
15,
16,
27,
20,
10,
15,
18,
22,
28,
23,
33,
43,
22,
25,
26,
32,
30,
30,
33,
29,
35,
44,
32,
20,
26,
14,
15,
20,
24,
23,
17,
40,
29,
19,
19,
16,
13,
26,
33,
18,
15,
23,
20,
21,
16,
37,
24,
22};

void setup() {
  Serial.begin(9600);
  
  strip.begin();
  strip.show(); 
}

void loop() {
  Serial.println("New loop.");
  decibleColor();
}

void decibleColor() {
  for(uint16_t i = 0; i < sizeof(decible)-1; i++) {
    if (decible[i] > 0 && decible[i] <= 5) {
      for(int j = 0; j <= 5; j++) {
        strip.setPixelColor(j, 224, 255, 255); 
      }
    } else if (decible[i] >5 && decible[i] <= 10) {
      for(int j = 0; j <= 8; j++) {
        strip.setPixelColor(j, 191, 239, 255); 
      }
    } else if (decible[i] >10 && decible[i] <= 15) {
      for(int j = 0; j <= 10; j++) {
          strip.setPixelColor(j, 152, 245, 255);
      }
    } else if (decible[i] >15 && decible[i] <= 20) {
      for(int j = 0; j <= 12; j++) {
          strip.setPixelColor(j, 151, 255, 255);
      }
    } else if (decible[i] >20 && decible[i] <= 25) {
      for(int j = 0; j <= 15; j++) {
          strip.setPixelColor(j, 0, 255, 255);
      }
    } else if (decible[i] >25 && decible[i] <= 30) {
      for(int j = 0; j <= 17; j++) {
          strip.setPixelColor(j, 176, 226, 255);
      }
    } else if (decible[i] >30 && decible[i] <= 35) {
      for(int j = 0; j <= 20 ; j++) {
          strip.setPixelColor(j, 30, 144, 255);
      }  
    } else if (decible[i] >35 && decible[i] <= 40) {
      for(int j = 0; j <= 24 ; j++) {
          strip.setPixelColor(j, 0, 0, 255);
      }  
    } else if (decible[i] >40 && decible[i] <= 45) {
      for(int j = 0; j <= 27 ; j++) {
          strip.setPixelColor(j, 79, 148, 205);
      }  
    } else if (decible[i] >45) {
      for(int j = 0; j <= 29 ; j++) {
          strip.setPixelColor(j, 0, 0, 128);
      }  
    }
  else {
    //ERROR
  }

  strip.show();
  delay(500);
  } //for loop
}
